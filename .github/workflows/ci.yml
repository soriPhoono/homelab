# This file is automatically generated from Nix configuration. Do not edit directly.

jobs:
  build-droid-soriphoono:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#droidConfigurations.soriphoono.activationPackage
  build-home-soriphoono:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#homeConfigurations.soriphoono.activationPackage
  build-home-spookyskelly:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#homeConfigurations.spookyskelly.activationPackage
  build-nixos-lg-laptop:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#nixosConfigurations.lg-laptop.options.system.build.toplevel
  build-nixos-moonlight:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#nixosConfigurations.moonlight.options.system.build.toplevel
  build-nixos-node:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#nixosConfigurations.node.options.system.build.toplevel
  build-nixos-zephyrus:
    needs:
      - fmt
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Build
        run: nix build .#nixosConfigurations.zephyrus.options.system.build.toplevel
  fmt:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: ${{github.head_ref || github.ref}}
      - name: Setup Nix
        uses: DeterminateSystems/nix-action@v10
      - name: Format code
        run: nix fmt
      - name: Commit and push
        run: |
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git commit -am "style: format code with nix fmt" || echo "No changes to commit"
          git push
name: CI
"on":
  pull_request: {}
permissions:
  contents: write
